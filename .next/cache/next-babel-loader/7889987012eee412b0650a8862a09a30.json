{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\projectA1Platform\\\\components\\\\PostForm.js\";\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { Input, Avatar, Form, Button, Checkbox } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ADD_POST, ADD_POST_SUCCESS } from '../reducers/post';\n\nconst PostForm = () => {\n  const _leadingZeros = (n, digits) => {\n    var zero = '';\n    n = n.toString();\n\n    if (n.length < digits) {\n      for (let i = 0; i < digits - n.length; i++) zero += '0';\n    }\n\n    return zero + n;\n  };\n\n  const _getTimeStamp = () => {\n    var d = new Date();\n\n    var s = _leadingZeros(d.getFullYear(), 4) + '-' + _leadingZeros(d.getMonth() + 1, 2) + '-' + _leadingZeros(d.getDate(), 2) + ' ' + _leadingZeros(d.getHours(), 2) + ':' + _leadingZeros(d.getMinutes(), 2) + ':' + _leadingZeros(d.getSeconds(), 2);\n\n    return s;\n  };\n\n  const dispatch = useDispatch();\n  const {\n    me,\n    addedPost\n  } = useSelector(state => state.post);\n  const checkbox = useRef(null);\n  const [text, setText] = useState('');\n  const [title, setTitle] = useState('');\n  const [id, setId] = useState(0);\n  const [check, setCheck] = useState(false);\n  const [nickname, setNickname] = useState(me);\n  const onChangeText = useCallback(e => {\n    setText(e.target.value);\n  }, []);\n  const onChangeTile = useCallback(e => {\n    setTitle(e.target.value);\n  }, []);\n  const onCheck = useCallback(e => {\n    setCheck(e.target.checked);\n  });\n  const onSubmitPost = useCallback(e => {\n    e.preventDefault();\n    if (!title) return alert(\"제목을 입력해 주세요\");\n    if (!text) return alert(\"내용을 입력해 주세요\");\n    setId(pre => _parseInt(pre) + 1);\n    dispatch({\n      type: ADD_POST,\n      data: {\n        id,\n        me,\n        title,\n        text,\n        check,\n        date: _getTimeStamp()\n      }\n    });\n  }, [me, id, text, title, check]);\n  useEffect(() => {\n    if (addedPost) {\n      setText('');\n      setTitle('');\n      setCheck(false);\n      checkbox.current.rcCheckbox.state.checked = false;\n      dispatch({\n        type: ADD_POST_SUCCESS\n      });\n    }\n  }, [addedPost === true]);\n  return React.createElement(Form, {\n    onSubmit: onSubmitPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Input, {\n    readOnly: true,\n    value: me + \"님 반갑습니다.\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Input, {\n    addonBefore: \"\\uC81C\\uBAA9\",\n    value: title,\n    onChange: onChangeTile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Input.TextArea, {\n    rows: 10,\n    value: text,\n    onChange: onChangeText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(Checkbox, {\n    ref: checkbox,\n    onChange: onCheck,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"\\uC911\\uC694\"), React.createElement(Button, {\n    htmlType: \"submit\",\n    style: {\n      float: 'right'\n    },\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"\\uB4F1\\uB85D\"));\n};\n\nexport default PostForm;","map":{"version":3,"sources":["C:\\Users\\USER\\projectA1Platform\\components\\PostForm.js"],"names":["React","useState","useCallback","useEffect","useRef","Input","Avatar","Form","Button","Checkbox","useDispatch","useSelector","ADD_POST","ADD_POST_SUCCESS","PostForm","_leadingZeros","n","digits","zero","toString","length","i","_getTimeStamp","d","Date","s","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","dispatch","me","addedPost","state","post","checkbox","text","setText","title","setTitle","id","setId","check","setCheck","nickname","setNickname","onChangeText","e","target","value","onChangeTile","onCheck","checked","onSubmitPost","preventDefault","alert","pre","type","data","date","current","rcCheckbox","float"],"mappings":"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","sourcesContent":["import React,{useState, useCallback, useEffect, useRef} from 'react';\r\nimport {Input, Avatar, Form, Button, Checkbox} from 'antd';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {ADD_POST, ADD_POST_SUCCESS} from '../reducers/post';\r\n\r\n\r\nconst PostForm = () => {\r\n\r\n  const _leadingZeros = (n, digits) => {\r\n    var zero = '';\r\n    n = n.toString();\r\n    if (n.length < digits) {\r\n      for (let i = 0; i < digits - n.length; i++)\r\n        zero += '0';\r\n    }\r\n    return zero + n;\r\n  }\r\n\r\n    const _getTimeStamp = () => {\r\n    var d = new Date();\r\n    var s =\r\n      _leadingZeros(d.getFullYear(), 4) + '-' +\r\n      _leadingZeros(d.getMonth() + 1, 2) + '-' +\r\n      _leadingZeros(d.getDate(), 2) + ' ' +\r\n      _leadingZeros(d.getHours(), 2) + ':' +\r\n      _leadingZeros(d.getMinutes(), 2) + ':' +\r\n      _leadingZeros(d.getSeconds(), 2);\r\n    return s;\r\n  }\r\n\r\nconst dispatch = useDispatch();\r\nconst {me, addedPost} = useSelector(state => state.post);\r\nconst checkbox = useRef(null);\r\nconst [text, setText] = useState('');\r\nconst [title, setTitle] = useState('');\r\nconst [id, setId] = useState(0);\r\nconst [check, setCheck] = useState(false);\r\nconst [nickname, setNickname] = useState(me);\r\n\r\n\r\n  const onChangeText = useCallback(e=>{\r\n    setText(e.target.value);\r\n  },[]);\r\n  const onChangeTile = useCallback(e=>{\r\n    setTitle(e.target.value);\r\n  },[]);\r\n  const onCheck = useCallback(e=>{\r\n    setCheck(e.target.checked);\r\n  })\r\n\r\n  const onSubmitPost = useCallback(e=>{\r\n    e.preventDefault();\r\n    if(!title) return alert(\"제목을 입력해 주세요\")\r\n    if(!text) return alert(\"내용을 입력해 주세요\")\r\n    setId(pre=> parseInt(pre)+1)\r\n    dispatch({\r\n      type:ADD_POST,\r\n      data:{\r\n        id,\r\n        me,\r\n        title,\r\n        text,\r\n        check,\r\n        date:_getTimeStamp(),\r\n      }\r\n    })\r\n  },[me,id, text, title, check]);\r\n\r\n  useEffect(()=>{\r\n    if(addedPost){\r\n      setText('');\r\n      setTitle('');\r\n      setCheck(false);\r\n      checkbox.current.rcCheckbox.state.checked = false;\r\n      dispatch({\r\n        type:ADD_POST_SUCCESS\r\n      })\r\n    }\r\n  },[addedPost === true]);\r\n\r\n  return(\r\n    <Form onSubmit={onSubmitPost}>\r\n      <Input readOnly value={me+\"님 반갑습니다.\"}/>\r\n      <Input addonBefore=\"제목\" value={title} onChange={onChangeTile}/>\r\n      <Input.TextArea rows={10} value={text} onChange={onChangeText}/>\r\n      <Checkbox ref={checkbox} onChange={onCheck}>중요</Checkbox>\r\n      <Button htmlType=\"submit\" style={{float:'right'}} type=\"primary\">등록</Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default PostForm;\r\n"]},"metadata":{},"sourceType":"module"}