{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nexport const initialState = {\n  nickname: '',\n  me: '',\n  addedNickname: false,\n  mainPosts: [],\n  addedPost: false\n};\nexport const ADD_NICKNAME = 'ADD_NICKNAME';\nexport const SET_NICKNAME = 'SET_NICKNAME';\nexport const ADD_POST = 'ADD_POST';\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport const FIX_POST = 'FIX_POST';\nexport const DEL_POST = 'DEL_POST';\nexport const SEARCH_POST = 'SEARCH_POST';\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_NICKNAME:\n      {\n        return _objectSpread({}, state, {\n          nickname: action.data\n        });\n      }\n\n    case SET_NICKNAME:\n      {\n        return _objectSpread({}, state, {\n          me: action.data\n        });\n      }\n\n    case ADD_POST:\n      {\n        return _objectSpread({}, state, {\n          mainPosts: [...state.mainPosts, action.data],\n          addedPost: true\n        });\n      }\n\n    case ADD_POST_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          addedPost: false\n        });\n      }\n\n    case FIX_POST:\n      {\n        const {\n          index,\n          fixText,\n          fixTitle,\n          date,\n          check\n        } = action.data;\n        const post = state.mainPosts[index];\n\n        const mainpost = _objectSpread({}, post, {\n          title: fixTitle,\n          text: fixText,\n          date\n        });\n\n        const mainPosts = [...state.mainPosts];\n        mainPosts[index] = mainpost;\n        return _objectSpread({}, state, {\n          mainPosts\n        });\n      }\n\n    case DEL_POST:\n      {\n        const index = action.data;\n        const mainPosts = [...state.mainPosts];\n        mainPosts.splice(index, 1);\n        return _objectSpread({}, state, {\n          mainPosts\n        });\n      }\n\n    case SEARCH_POST:\n      {\n        const term = action.data;\n        const posts = state.mainPosts.filter(v => {\n          if (v.title.includes(term) || v.me.includes(term)) {\n            return true;\n          }\n        });\n        const mainPosts = [...posts];\n        return _objectSpread({}, state, {\n          mainPosts\n        });\n      }\n\n    default:\n      {\n        return _objectSpread({}, state);\n      }\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:\\Users\\USER\\projectA1Platform\\reducers\\post.js"],"names":["initialState","nickname","me","addedNickname","mainPosts","addedPost","ADD_NICKNAME","SET_NICKNAME","ADD_POST","ADD_POST_SUCCESS","FIX_POST","DEL_POST","SEARCH_POST","reducer","state","action","type","data","index","fixText","fixTitle","date","check","post","mainpost","title","text","splice","term","posts","filter","v","includes"],"mappings":";AAAA,OAAO,MAAMA,YAAY,GAAG;AAC1BC,EAAAA,QAAQ,EAAC,EADiB;AAE1BC,EAAAA,EAAE,EAAC,EAFuB;AAG1BC,EAAAA,aAAa,EAAC,KAHY;AAI1BC,EAAAA,SAAS,EAAC,EAJgB;AAK1BC,EAAAA,SAAS,EAAC;AALgB,CAArB;AAQP,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;;AAGN,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGd,YAAT,EAAuBe,MAAvB,KAAkC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,YAAL;AAAkB;AAChB,iCACKQ,KADL;AAEEb,UAAAA,QAAQ,EAACc,MAAM,CAACE;AAFlB;AAID;;AACD,SAAKV,YAAL;AAAkB;AAChB,iCACKO,KADL;AAEEZ,UAAAA,EAAE,EAACa,MAAM,CAACE;AAFZ;AAID;;AACD,SAAKT,QAAL;AAAc;AACZ,iCACKM,KADL;AAEEV,UAAAA,SAAS,EAAC,CAAC,GAAGU,KAAK,CAACV,SAAV,EAAqBW,MAAM,CAACE,IAA5B,CAFZ;AAGEZ,UAAAA,SAAS,EAAC;AAHZ;AAKD;;AACD,SAAKI,gBAAL;AAAsB;AACpB,iCACKK,KADL;AAEET,UAAAA,SAAS,EAAC;AAFZ;AAID;;AACD,SAAKK,QAAL;AAAc;AACZ,cAAM;AAACQ,UAAAA,KAAD;AAAQC,UAAAA,OAAR;AAAiBC,UAAAA,QAAjB;AAA2BC,UAAAA,IAA3B;AAAiCC,UAAAA;AAAjC,YAA0CP,MAAM,CAACE,IAAvD;AACA,cAAMM,IAAI,GAAGT,KAAK,CAACV,SAAN,CAAgBc,KAAhB,CAAb;;AACA,cAAMM,QAAQ,qBAAOD,IAAP;AAAaE,UAAAA,KAAK,EAACL,QAAnB;AAA6BM,UAAAA,IAAI,EAACP,OAAlC;AAA2CE,UAAAA;AAA3C,UAAd;;AACA,cAAMjB,SAAS,GAAG,CAAC,GAAGU,KAAK,CAACV,SAAV,CAAlB;AACAA,QAAAA,SAAS,CAACc,KAAD,CAAT,GAAmBM,QAAnB;AACA,iCACKV,KADL;AAEEV,UAAAA;AAFF;AAID;;AACD,SAAKO,QAAL;AAAc;AACZ,cAAMO,KAAK,GAAGH,MAAM,CAACE,IAArB;AACA,cAAMb,SAAS,GAAG,CAAC,GAAGU,KAAK,CAACV,SAAV,CAAlB;AACAA,QAAAA,SAAS,CAACuB,MAAV,CAAiBT,KAAjB,EAAuB,CAAvB;AACA,iCACKJ,KADL;AAEEV,UAAAA;AAFF;AAID;;AACD,SAAKQ,WAAL;AAAiB;AACf,cAAMgB,IAAI,GAAGb,MAAM,CAACE,IAApB;AACA,cAAMY,KAAK,GAAGf,KAAK,CAACV,SAAN,CAAgB0B,MAAhB,CAAuBC,CAAC,IAAI;AACxC,cAAGA,CAAC,CAACN,KAAF,CAAQO,QAAR,CAAiBJ,IAAjB,KAA0BG,CAAC,CAAC7B,EAAF,CAAK8B,QAAL,CAAcJ,IAAd,CAA7B,EAAiD;AAC/C,mBAAO,IAAP;AACD;AACF,SAJa,CAAd;AAKA,cAAMxB,SAAS,GAAG,CAAC,GAAGyB,KAAJ,CAAlB;AACA,iCACKf,KADL;AAEEV,UAAAA;AAFF;AAID;;AACD;AAAQ;AACN,iCACKU,KADL;AAGD;AA/DH;AAkED,CAnEA;;AAsED,eAAeD,OAAf","sourcesContent":["export const initialState = {\r\n  nickname:'',\r\n  me:'',\r\n  addedNickname:false,\r\n  mainPosts:[],\r\n  addedPost:false,\r\n}\r\n\r\nexport const ADD_NICKNAME = 'ADD_NICKNAME';\r\nexport const SET_NICKNAME = 'SET_NICKNAME';\r\nexport const ADD_POST = 'ADD_POST';\r\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\r\nexport const FIX_POST = 'FIX_POST';\r\nexport const DEL_POST = 'DEL_POST';\r\nexport const SEARCH_POST = 'SEARCH_POST';\r\n\r\n\r\n const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_NICKNAME:{\r\n      return{\r\n        ...state,\r\n        nickname:action.data\r\n      }\r\n    }\r\n    case SET_NICKNAME:{\r\n      return{\r\n        ...state,\r\n        me:action.data\r\n      }\r\n    }\r\n    case ADD_POST:{\r\n      return{\r\n        ...state,\r\n        mainPosts:[...state.mainPosts, action.data],\r\n        addedPost:true,\r\n      }\r\n    }\r\n    case ADD_POST_SUCCESS:{\r\n      return{\r\n        ...state,\r\n        addedPost:false,\r\n      }\r\n    }\r\n    case FIX_POST:{\r\n      const {index, fixText, fixTitle, date, check} = action.data;\r\n      const post = state.mainPosts[index];\r\n      const mainpost = {...post, title:fixTitle, text:fixText, date}\r\n      const mainPosts = [...state.mainPosts];\r\n      mainPosts[index] = mainpost;\r\n      return{\r\n        ...state,\r\n        mainPosts\r\n      }\r\n    }\r\n    case DEL_POST:{\r\n      const index = action.data;\r\n      const mainPosts = [...state.mainPosts]\r\n      mainPosts.splice(index,1);\r\n      return{\r\n        ...state,\r\n        mainPosts\r\n      }\r\n    }\r\n    case SEARCH_POST:{\r\n      const term = action.data;\r\n      const posts = state.mainPosts.filter(v => {\r\n        if(v.title.includes(term) || v.me.includes(term)){\r\n          return true;\r\n        }\r\n      });\r\n      const mainPosts = [...posts]\r\n      return{\r\n        ...state,\r\n        mainPosts\r\n      }\r\n    }\r\n    default:{\r\n      return{\r\n        ...state,\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default reducer\r\n"]},"metadata":{},"sourceType":"module"}